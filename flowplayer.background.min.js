/*!

   Background video plugin for Flowplayer HTML5

   Copyright (c) 2016-2017, Flowplayer Drive Oy

   Released under the MIT License: https://opensource.org/licenses/MIT

*/
!function(){var o=function(o){var e=o.common,a=o.bean;o(function(o,s){function n(){e.css(s.parentNode,"min-height",e.height(s)+"px")}var i=o.conf,l=i.background;if(l){i.autoplay=i.loop=i.muted=!0,e.addClass(s,"is-background"),l.audio||(o.volume(0,!0),o.one("progress",function(){o.volume(0,!0)})),o.on("load",function(o,e,a){a.hlsQualities=a.dashQualities=!1,delete a.qualities,delete a.defaultQuality}).on("finish",function(o,e){i.playlist&&i.playlist.length&&!e.video.is_last||e.resume()});var t=document.createElement("div"),r=l.mask||"rgba(255, 255, 255, 0.7)";t.className="fp-mask",e.find(".fp-player",s)[0].appendChild(t);try{e.css(t,"background-color",r)}catch(o){if(r.indexOf("rgba"))e.css(t,"background-color","transparent");else{var c=r.split(/\s*[()]\s*/)[1].split(/\s*,\s*/);e.css(t,"background-color","rgb("+c.slice(0,3).join(",")+")"),e.css(t,"filter","alpha(opacity="+100*parseFloat(c[3])+")")}}n(),a.on(window,"resize",n)}})};"object"==typeof module&&module.exports?module.exports=o:"function"==typeof flowplayer&&o(window.flowplayer)}();